<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Responsive Dropdown Navigation</title>
		<style>
			/* CSS Variables (replacing SCSS variables) */
			:root {
				--content-width: 1000px;
				--breakpoint: 799px;
				--nav-height: 70px;
				--nav-background: #262626;
				--nav-font-color: #ffffff;
				--link-hover-color: #2581dc;
			}

			/* Basic Reset and Body Style */
			* {
				box-sizing: border-box;
				margin: 0;
				padding: 0;
			}

			body {
				font-family: Arial, Helvetica, sans-serif;
			}

			/* Outer navigation wrapper */
			.navigation {
				height: var(--nav-height);
				background: var(--nav-background);
			}

			/* Container with no padding for navbar */
			.nav-container {
				max-width: var(--content-width);
				margin: 0 auto;
				position: relative;
				height: 100%;
			}

			/* Logo and branding */
			.brand {
				position: absolute;
				padding-left: 20px;
				line-height: var(--nav-height);
				text-transform: uppercase;
				font-size: 1.4em;
			}

			.brand a,
			.brand a:visited {
				color: var(--nav-font-color);
				text-decoration: none;
			}

			/* Main Navigation Block */
			nav {
				float: right;
			}

			nav .nav-list {
				list-style: none;
				display: flex; /* Use flexbox for desktop nav */
			}

			nav .nav-list li {
				position: relative;
			}

			nav .nav-list li a {
				display: block;
				padding: 0 20px;
				line-height: var(--nav-height);
				background: var(--nav-background);
				color: var(--nav-font-color);
				text-decoration: none;
				transition: background 0.3s ease;
			}

			nav .nav-list li a:hover {
				background: var(--link-hover-color);
				color: var(--nav-font-color);
			}

			/* Add arrow for dropdowns */
			nav .nav-list li.has-dropdown > a:after {
				padding-left: 5px;
				content: 'â–¾';
			}

			/* Dropdown list */
			.nav-dropdown {
				position: absolute;
				display: none;
				min-width: 190px;
				z-index: 10;
				list-style: none;
				box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);
			}

			.nav-dropdown.open {
				display: block;
			}

			.nav-dropdown li a {
				padding: 15px;
				line-height: 20px;
			}

			/* Mobile navigation */
			.nav-mobile {
				display: none;
				position: absolute;
				top: 0;
				right: 0;
				background: var(--nav-background);
				height: var(--nav-height);
				width: var(--nav-height);
				cursor: pointer;
			}

			/* Hamburger Icon Styling */
			#nav-toggle {
				position: absolute;
				left: 18px;
				top: 22px;
				padding: 10px 35px 16px 0px;
			}

			#nav-toggle span,
			#nav-toggle span:before,
			#nav-toggle span:after {
				cursor: pointer;
				border-radius: 1px;
				height: 5px;
				width: 35px;
				background: var(--nav-font-color);
				position: absolute;
				display: block;
				content: '';
				transition: all 300ms ease-in-out;
			}

			#nav-toggle span:before {
				top: -10px;
			}

			#nav-toggle span:after {
				bottom: -10px;
			}

			#nav-toggle.active span {
				background-color: transparent;
			}

			#nav-toggle.active span:before,
			#nav-toggle.active span:after {
				top: 0;
			}

			#nav-toggle.active span:before {
				transform: rotate(45deg);
			}

			#nav-toggle.active span:after {
				transform: rotate(-45deg);
			}

			/* Media Query for Mobile */
			@media only screen and (max-width: 800px) {
				.nav-mobile {
					display: block;
				}

				nav {
					width: 100%;
					padding-top: var(--nav-height);
				}

				nav .nav-list {
					display: none; /* Hide by default */
					flex-direction: column;
					width: 100%;
					background: var(--nav-background);
				}

				nav .nav-list.open {
					display: flex; /* Show when toggled */
				}

				nav .nav-list li {
					width: 100%;
				}

				nav .nav-list li a {
					padding: 15px;
					line-height: 20px;
				}

				.nav-dropdown {
					position: static; /* No longer absolute */
					box-shadow: none;
					background: #222;
				}
				.nav-dropdown li a {
					padding-left: 30px;
				}
			}

			/* Page content for demo */
			article {
				max-width: var(--content-width);
				margin: 20px auto;
				padding: 20px;
			}
		</style>
	</head>
	<body>
		<section class="navigation">
			<div class="nav-container">
				<div class="brand">
					<a href="#!">Logo</a>
				</div>
				<nav>
					<div class="nav-mobile">
						<a id="nav-toggle" href="#!"><span></span></a>
					</div>
					<ul class="nav-list">
						<li><a href="#!">Home</a></li>
						<li><a href="#!">About</a></li>
						<li class="has-dropdown">
							<!-- Added class for JS targeting -->
							<a href="#!">Services</a>
							<ul class="nav-dropdown">
								<li><a href="#!">Web Design</a></li>
								<li><a href="#!">Web Development</a></li>
								<li><a href="#!">Graphic Design</a></li>
							</ul>
						</li>
						<li><a href="#!">Pricing</a></li>
						<li class="has-dropdown">
							<!-- Added class for JS targeting -->
							<a href="#!">Portfolio</a>
							<ul class="nav-dropdown">
								<li><a href="#!">Web Design</a></li>
								<li><a href="#!">Web Development</a></li>
								<li><a href="#!">Graphic Design</a></li>
							</ul>
						</li>
						<li><a href="#!">Contact</a></li>
					</ul>
				</nav>
			</div>
		</section>

		<article>
			<h2>Navigation</h2>
			<p>
				This is a responsive dropdown navigation bar created with pure CSS and
				vanilla JavaScript.
			</p>
		</article>

		<script>
			document.addEventListener('DOMContentLoaded', function () {
				// --- Mobile Navigation Toggle ---
				const navToggle = document.getElementById('nav-toggle');
				const navList = document.querySelector('.nav-list');

				navToggle.addEventListener('click', function (e) {
					e.preventDefault();
					this.classList.toggle('active');
					navList.classList.toggle('open');
				});

				// --- Dropdown Menu Toggle ---
				const dropdowns = document.querySelectorAll('.has-dropdown');

				dropdowns.forEach(function (dropdown) {
					// Get the link inside the list item
					const link = dropdown.querySelector('a');

					link.addEventListener('click', function (e) {
						// Only prevent default for dropdown links on mobile
						if (window.innerWidth <= 799) {
							e.preventDefault();
							const dropdownMenu = this.nextElementSibling;

							// Close other open dropdowns
							document
								.querySelectorAll('.nav-dropdown.open')
								.forEach(function (menu) {
									if (menu !== dropdownMenu) {
										menu.classList.remove('open');
									}
								});

							dropdownMenu.classList.toggle('open');
						}
					});
				});

				// --- Close dropdown when clicking outside ---
				document.addEventListener('click', function (e) {
					if (window.innerWidth > 799) {
						// Only run this on desktop
						let openDropdown = document.querySelector('.nav-dropdown.open');
						if (openDropdown && !e.target.closest('.has-dropdown')) {
							openDropdown.classList.remove('open');
						}
					}
				});
			});
		</script>
	</body>
</html>
